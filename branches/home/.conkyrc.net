# Purpose: Net usage
own_window yes
own_window_class Conky
own_window_transparent yes
own_window_type desktop
#
# fonts & colors
default_color ffd700
default_outline_color 000000
draw_outline yes
draw_shades no
color1 A6FF00
color2 FF5900
use_xft yes
font DejaVu Sans Mono:size=8
#
# 1280 / 3 ~= 426
maximum_width 300
short_units yes
#${execi 30 tail -n3 /var/log/messages | fold -w50}
#bytes  connection         program
#${exec netstat --tcp --numeric-hosts --program --timers 2>/dev/null | grep ESTABLISHED | sort --numeric --key=2 --reverse | head --lines=15 | awk '{ printf "%6d %-24s %s\n", $2,$5,$7 }'}

TEXT
${if_gw wlan0}${color2}Send-Q ${totaldown wlan0}${color}
${exec netstat --tcp --numeric-hosts --program 2>/dev/null | grep ESTABLISHED | awk ' { sum[ $7 ] += $3 } END { for ( s in sum ) printf "%7d %s\n", sum[ s ], s }' | sort --numeric --key=1 --reverse | head --lines=15 }
${color2}Recv-Q ${totalup wlan0}${color}
${exec netstat --tcp --numeric-hosts --program 2>/dev/null | grep ESTABLISHED | awk ' { sum[ $7 ] += $2 } END { for ( s in sum ) printf "%7d %s\n", sum[ s ], s }' | sort --numeric --key=1 --reverse | head --lines=15 }${endif}